#### MATRIX CONFIG FILE
#                         MATRIX ANTI CHEAT
#             文件: checks.yml  | 最终编辑: @2.2.2
#
# 链接s:
#   1. 问题收集器: https://github.com/jiangdashao/Matrix-Issues/issues
#   2. SpigotMC 主页: https://www.spigotmc.org/resources/64635/
#   3. bStats: https://bstats.org/plugin/bukkit/Matrix
#   4. Discord 服务器: https://discord.gg/pEvY55J
#
# 贡献者:
#   Performance#1955: 提交了若干的BUG并管理问题提交区。
#   Zak#6435 & Alex#2237: 提供测试服务器并提交了若干的BUG.
#   Kruize#9138 & VariationTime#2942: 提交了若干的BUG.
#
# 感谢使用 Matrix <3

## 杀戮光环检测
# 防止玩家使用 杀戮光环/自瞄 作弊。
killaura:
  # 启用 KillAura 检测吗?
  enable: true

  # 取消系统
  # 若玩家被检测为作弊，这可以取消他对其他人造成的攻击伤害。 (-1 = 永远不取消)
  # 注: 只有部分检测拥有取消系统，并不是全部。
  cancel_vl: 3

  # 检测模块设置
  modules:
    # 机器学习杀戮光环检测
    # 这使用机器学习算法来判断玩家是否在作弊。
    machine_learning:
      enable: true
      vl_weight: 15
    # 连点器检测
    # 检测玩家是否在使用连点器。
    auto_clicker:
      # 每秒点击数(CPS) 检测
      cps:
        enable: true
        max_cps: 15
        vl_weight: 4
      # 点击延迟检测
      delay:
        enable: true
        vl_weight: 3
        # 不同玩家拥有不同的最短点击延迟
        # 数值更高 = 更敏感, 但我不建议您将其设置的太高，这可能会造成误判。
        delay_diff_threshold: 150
      # 数据包连点模式, 它可以检测一些外部的连点软件。
      packet:
        enable: true
        vl_weight: 5
      # 长期 CPS 差异检测
      cps_long_term:
        enable: true
        vl_weight: 5
    # 命中率检测
    # 防止玩家以高命中率攻击其他玩家。
    accuracy:
      enable: true
      vl_weight: 20
      max_accuracy: 70
    # Yaw 模式
    # 当玩家战斗时，分析玩家 yaw轴 移动
    yaw:
      enable: true
      vl_weight: 5
    # Pitch 模式
    # 当玩家战斗时，分析玩家 pitch轴 移动
    pitch:
      enable: true
      vl_weight: 5
    # 摇头
    # 检测玩家的 Pitch值  > 90 或者 <-90
    derp:
      enable: true
      vl_weight: 10
    # 捕捉瞄准
    # 防止玩家快速切换攻击目标
    snap_aim:
      enable: true
      vl_weight: 5
    # 已死亡的实体检测
    # 在杀死目标后，防止玩家攻击他们死亡的实体。
    dead:
      enable: true
      vl_weight: 3
    # 不摇动手臂
    # 防止玩家在攻击玩家时不摇动手臂。
    noswing:
      enable: true
      vl_weight: 2
    # 简单数据包模式
    # 防止玩家发送 Flying 数据包后，立即攻击他人。
    simple:
      enable: true
      vl_weight: 1
    # 暴击
    # 防止玩家在没有满足暴击条件的情况下，暴击其他人
    critical:
      enable: true
      vl_weight: 4
      cancel: true
    # 过大击退检测
    superkb:
      enable: true
      vl_weight: 5
    # 自动格挡检测
    auto_block:
      enable: true
      vl_weight: 4
    # 战斗特征检测
    style:
      enable: true
      vl_weight: 10
    # 瞄准特征检测
    aim_feature:
      enable: true
      vl_weight: 5
    # 假转头
    fake_rotation:
      enable: true
      vl_weight: 8
    # 假人检测
    npc:
      enable: true
      vl_weight: 4
      vl_weight_fast_attack: 10
      async: true
      real_entity_id: true
      only_command_trigger: false
      # 隐身
      visible: true
      check_ticks:
        base: 100
        attack_add: 20
        hit_bot_add: 50
      movement:
        distance_base: 3.0
        distance_random_size: 1.0
        distance_attack_base: 2.0
  # VL 阈值
  # VL 值: '<指令>'
  commands:
    20: 'matrix notify %player% 可能在战斗作弊 (KillAura)'
    35: 'matrix notify %player% 可能在战斗作弊 (KillAura) #2'
    45: 'matrix kick %player% 杀戮光环'

## 击打体积
# 介绍: 此项检测防止玩家使用 HitBox, Angle, Reach 作弊。（长臂猿？）
hitbox:
  # 启用 HitBox 检测吗?
  enable: true

  # 距离检测设置
  direction:
    # HitBox 补偿
    # 更小 = 更敏感
    compensation:
      # 水平 Hitbox 补偿
      xz: 0.8
      # 垂直 Hitbox 补偿
      y: 0.4

    # VL 权重
    vl_weight: 2

  # 远距离检测设置
  reach:
    # 最大攻击距离
    max_reach: 3.1

    # 当玩家移动时应该需要怎样放宽处理
    # 更高的值 = 更宽容的进行检测
    # 建议数值: 1.0 ~ 1.5
    # 达到容差值 = 移动距离 * 卡顿TIck * 移动宽容值
    move_lenient: 1.1

  # 达到多少的VL值才会取消非法击打？ (-1 = 永远不取消)
  cancel_vl: 4

  # VL 阈值
  # VL值: '<指令>'
  commands:
    10: 'matrix notify %player% 尝试在最大距离外击打实体 (HitBox)'
    15: 'matrix notify %player% 尝试在最大距离外击打实体 (HitBox) #2'
    24: 'matrix kick %player% 长距离作弊'

## 移动加速检测
# 检测玩家移动有多快，并防止玩家以过快的速度移动。
speed:
  # 启用 这项 检测吗?
  # 注意: 这也将会禁用
  # 飞行检测.
  enable: true

  # 达到多少的VL值才会取消非法移动 (-1 = 永远不取消)
  cancel_vl: 30

  # 启用 疾跑方向 检测吗?
  sprint_direction: true

  # 启用 快速攀爬/快速上梯 检测吗?
  fastclimb: true

  # 启用 不减速 检测吗?
  # 它将会检测玩家在 吃/蹲/射弓 时的速度是否过快
  noslow: true

  # VL 阈值
  # VL值: '<指令>'
  commands:
    55: 'matrix notify %player% 尝试以过快的速度移动 (Speed) #1'
    90: 'matrix notify %player% 尝试以过快的速度移动 (Speed) #2'
    220: 'matrix kick %player% 加速作弊'

## 飞行
# 防止玩家使用 原版/非原版 客户端进行飞行作弊。
fly:
  # 启用 飞行 检测吗?
  # 注意: Speed 加速检测必须也是启用的
  enable: true

  # 达到多少的VL值才会取消非法移动  (-1 = 永远不取消)
  cancel_vl: 50

  # 严格滑行检测
  strict_glide:
    # 启用 严格滑行 检测吗?
    enable: true

    # 下降距离与期望值的最大偏差
    # 如果这两个值差异较大, 玩家将会被标记。
    max_diff: 0.5

  # 无掉落伤害检测
  nofall:
    # 在撤回后给予实际的伤害吗
    damage: true

  # 撤回方法 (back/ground)
  # back: 将玩家传送到最后的合法位置
  # ground: 将玩家传送到在玩家下面的方块
  setback: back

  # VL 阈值
  # VL值: '<指令>'
  commands:
    50: 'matrix notify %player% 正在尝试飞行 (Fly) #1'
    100: 'matrix notify %player% 正在尝试飞行 (Fly) #2'
    180: 'matrix kick %player% 飞行作弊'


## 坏数据包
# 防止玩家发送过多的移动数据包或发送过多的非法数据包。
badpackets:
  # 启用本项检测吗?
  enable: true

  # 达到多少的VL值才会取消非法数据包 (-1 = 永远不取消)
  cancel_vl: 30

  # 数据包队列大小 (秒)
  # 更小-> 更快检测变速齿轮, 更高 -> 对高延迟玩家更友好
  cache_size: 30

  # Tick率 检测
  # 它可以检测一些平稳的变速齿轮 (1.01~1.05 变速)
  tick_rate:
    # 启用这项检测吗?
    enable: true

    # 缓存大小 (秒)
    # 更大: 对高延迟玩家的误报会更少
    # 更小: 更严格，能快速检测变速齿轮作弊。
    cache_size: 5

  # 无用的Verbose信息输出 (+0 VL 信息)
  # 如果你不想看到BadPackets在verbose信息中刷屏
  # 你可以将本项选项设置到false.
  verbose_useless: true

  # VL 阈值
  # VL值: '<指令>'
  commands:
    100: 'matrix notify %player% 在发送不异常的数据包 (BadPackets) #1'
    150: 'matrix notify %player% 在发送异常的数据包 (BadPackets) #2'
    240: 'matrix kick %player% 发送异常数据包'

## 快速使用
# 检测并防止玩家快速使用/吃物品。
fastuse:
  # 启用 此项 检测吗?
  enable: true

  # 达到多少的VL值才会取消非法使用物品 (-1 = 永远不取消)
  cancel_vl: 5

  # VL 权重
  vl_weight: 1

  # VL 阈值
  # VL值: '<指令>'
  commands:
    5: 'matrix notify %player% 尝试比寻常更快地使用物品 (FastUse)'
    12: 'matrix kick %player% 快速使用作弊'

## 快速射弓
# 检测并防止玩家快速射弓
fastbow:
  # 启用 这项 检测吗?
  enable: true

  # 达到多少的VL值才会取消非法射弓 (-1 = 永远不取消)
  cancel_vl: 7

  # VL 权重
  vl_weight: 1

  # VL 阈值
  # VL值: '<指令>'
  commands:
    5: 'matrix notify %player% 在尝试快速地射弓 (FastBow)'
    15: 'matrix kick %player% 快速射弓作弊'

## 快速治疗
# 检测并防止玩家快速地恢复血量
fastheal:
  # 启用 这项 检测吗?
  enable: true

  # VL 重要值
  vl_weight: 2

  # VL 阈值
  # VL值: '<指令>'
  commands:
    10: 'matrix notify %player% tried to regain health too quickly (FastHeal)'
    20: 'matrix kick %player% FastHeal Hacks'

## 方块
# 检测并防止玩家过快地 破坏, 放置, 搭/向上搭
block:
  # 启用 this 检测吗?
  enable: true

  # 达到多少的VL值才会取消非法放置/破坏 (-1 = 永远不取消)
  cancel_vl: 15

  # 搭路拖回系统
  # 如果他们在使用搭路作弊，这可以代替方块撤回，而使用拽回玩家实体的方法。
  drag_back:
    enable: true
    start_vl: 3

  # 模块列表
  # 你可以在这里关闭一些模块
  modules:
    # 它可以检测过快地破坏方块
    fastbreak:
      enable: true
      vl_weight: 4
    # 它可以检测过快放置方块
    fastplace:
      enable: true
      vl_weight: 1
    # 它可以检测过快地搭路
    scaffold:
      enable: true
      vl_weights:
        safewalk: 4
        expand: 3
        limit: 1
        head: 5
        simple: 3
        direction: 4
    # 它可以检测过快地向上搭方块。
    tower:
      enable: true
      vl_weight: 2
    # 它可以检测玩家不晃手臂但破坏/放置方块
    noswing:
      enable: true
      vl_weight: 1
    # 检测玩家是不是不发送破坏中止数据包
    abort:
      enable: true
      vl_weight: 0

  # VL 阈值
  # VL值: '<指令>'
  commands:
    10: 'matrix notify %player% 尝试过快地放置/破坏方块 (FastPlace)'
    20: 'matrix kick %player% 快速放置/破坏作弊'

## 水上行走
# 检测并防止玩家在水中移动过快，甚至是在水上走。
jesus:
  # 启用 这项 检测吗?
  enable: true

  # 达到多少的VL值才会取消非法移动  (-1 = 永远不取消)
  cancel_vl: 15

  # VL 阈值
  # VL值: '<指令>'
  commands:
    15: 'matrix notify %player% 尝试在水中非法移动 (Jesus)'
    25: 'matrix kick %player% 水中加速 作弊'

## 背包
# 检测并防止玩家使用非法模组，例如 盗取.
# 同时也防止玩家使用快速操作背包的作弊。
inventory:
  # 启用 这项 检测吗?
  enable: true

  # 达到多少的VL值才会取消非法背包操作 (-1 = 永远不取消)
  cancel_vl: 10

  # 启用 ChestStealer 检测吗?
  # 这可以检测玩家过快的从箱子中拿取东西。
  chest_stealer: true

  # 禁用 背包移动 检测
  # 如果你不需要背包移动检测，你可以将其设置为 true
  # 这项选项只能在 1.12/1.13/+ 版本上生效
  disable_invmove: false

  # VL 阈值
  # VL值: '<指令>'
  commands:
    10: 'matrix notify %player% 在背包中过快地移动物品 (ChestSteal)'
    20: 'matrix kick %player% 背包作弊'

## 反击退
# 防止并检测玩家使用反击退作弊
velocity:
  # 启用 这项 检测吗?
  enable: true

  # 模组列表
  # 你可以关闭一些反击退检测
  # 设置到 false 来关闭这些检测
  modules:
    vertical:
      enable: true
      vl_weight: 1
    horizon:
      enable: true
      vl_weight: 4
    air:
      enable: true
      vl_weight: 2
    delay:
      enable: true
      vl_weight: 1
    expect:
      enable: true
      vl_weight: 2
    pattern:
      enable: true
      vl_weight: 7

  # VL 阈值
  # VL值: '<指令>'
  commands:
    10: 'matrix notify %player% 尝试无视服务器击退 (Anti-Knockback)'
    15: 'matrix notify %player% 尝试无视服务器击退 (Anti-Knockback) #2'
    20: 'matrix kick %player% 反击退作弊'

## 刷屏
# 检测并防止玩家刷屏
chat:
  # 启用 这项 检测吗?
  enable: true

  # 两条信息间隔时间 (秒)
  min_time: 3

  # 达到多少的VL值才会取消刷屏  (-1 = 永远不取消)
  cancel_vl: 3

  # VL 阈值
  # VL值: '<指令>'
  commands:
    4: 'matrix notify %player% 在刷屏 (ChatSpam)'
    10: 'matrix kick %player% 不要刷屏!'

## 交互
# 检测并防止玩家与其他实体或方块进行非法交互
interact:
  # 启用 这项 检测吗?
  enable: true

  # 模块列表
  modules:
    # 这可以检测玩家隔墙挖方块
    break_block:
      enable: true
      vl_weight: 1
    # 这可以检测玩家隔墙击打其他玩家
    attack:
      enable: true
      vl_weight: 1
    # 这可以检测玩家远距离交互方块
    block_reach:
      enable: true
      vl_weight: 1

  # VL 阈值
  # VL值: '<指令>'
  commands:
    10: 'matrix notify %player% 尝试非法交互实体/方块 (Interact)'
    15: 'matrix kick %player% 非法交互实体/方块'

## 自动钓鱼
# 检测并防止玩家使用自动钓鱼作弊
autofish:
  # 启用 这项 检测吗?
  enable: true

  # VL 阈值
  # VL值: '<指令>'
  commands:
    6: 'matrix notify %player% 正在使用自动钓鱼 (AutoFish)'
    15: 'matrix kick %player% 请勿自动钓鱼'

## 穿墙
# 检测并防止玩家穿墙
phase:
  # 启用 这项 检测吗?
  enable: true

  # 哪种方块应该被本项检测排除在外？
  # 如果您发现了一些误报, 你可以添加那个方块的类型在这里
  # 例如:
  # exclude_types:
  #   - 'AIR'
  exclude_types: {}

  # 取消非法移动吗？
  setback: true

  # VL 阈值
  # VL值: '<指令>'
  commands:
    5: 'matrix notify %player% 在穿墙 (Phase)'
    10: 'matrix notify %player% 在穿墙 (Phase) #2'

## 机器人
# 检测并防止玩家使用机器人，例如：Baritone
autobot:
  # 启用 这项 检测吗?
  enable: true

  # VL 阈值
  # VL值: '<指令>'
  commands:
    5: 'matrix notify %player% 可能是机器人 (AutoBot)'
    10: 'matrix notify %player% 可能是机器人 (AutoBot) #2'
    15: 'matrix kick %player% 可能在使用机器人'

## 鞘翅
# 检测并防止玩家使用 Elytra+, ElytraFlight, 等等
# 只能在 1.9+ 版本上启用
elytra:
  # 启用 这项 检测吗?
  enable: true

  # 到达多少VL才会将其移动撤回 (-1 = 永远不)
  setback_vl: 5

  # 脱离滑翔的 VL值
  # 如果玩家达到了这个VL值, Matrix 将会使其脱离滑翔状态 (-1 = 取消这项特性)
  unequip_vl: 20

  # VL 阈值
  # VL值: '<指令>'
  commands:
    10: 'matrix notify %player% 可能在使用鞘翅飞行作弊 (Elytra)'
    20: 'matrix notify %player% 可能在使用鞘翅飞行作弊 (Elytra) #2'
    40: 'matrix kick %player% 鞘翅作弊'

## 船
# 检测并防止玩家使用 VehicleFlight, VehicleSpeed, EntitySpeed..
# 只对 1.9+ 版本有效
vehicle:
  # 启用 这项 检测吗?
  enable: true

  # 船 加速/ 实体 加速
  speed:
    # 启用 这项模块?
    enable: true

    # 撤回 VL (-1 = 禁用撤回)
    setback_vl: 2

  # 船 飞行
  flight:
    # 启用 这项模块?
    enable: true

    # 撤回 vl (-1 = 禁用撤回)
    setback_vl: 4

    # 离开船VL (-1 = 永远不离开)
    leave_vehicle: 10

  # VL 阈值
  # VL值: '<指令>'
  commands:
    5: 'matrix notify %player% 可能在使用船作弊 (Vehicle)'
    10: 'matrix notify %player% 可能在使用船作弊  #2'
    17: 'matrix kick %player% 非法船移动'
